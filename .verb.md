## Usage

Examples using some built-in stages:

```js
var assemble = require('assemble');
var handle = require('{%= name %}');
var app = assemble();

app.onStream(/\.(js|css)$/, function(file, next) {
  // lint javascript
  file.dirname = path.join(file.dirname, file.extname);
  next();
});

app.preWrite(/\.(jpg|png)$/, function(file, next) {
  // minify images
  next();
});

app.postWrite(/some\/junk/, function(file, next) {
  // delete junk
  next();
});

app.task('site', function() {
  return app.src('assets/**/*.*')
    .pipe(handle(app, 'onStream'))  // onStream
    .pipe(handle(app, 'preWrite'))  // preWrite
    .pipe(app.dest('site/'));
    .pipe(handle(app, 'postWrite')) // postWrite
});
```

## Custom handlers

Create custom middleware handlers.

```js
app.handler('onFoo');
```

This adds an `.onFoo` method to the instance:

```js
app.onFoo(/\.hbs$/, function(file, next) {
  // do stuff to file
  next();
});
```

All `.onFoo` middleware will now run when the `onFoo` handler is called:

```js
app.task('default', function() {
  return app.src('*.hbs')

    // call the `onFoo` handler
    .pipe(handle(app, 'onFoo')) 
});
```
